from pymodbus.client import ModbusSerialClient

# Seri port ve iletişim parametreleri
serial_port = 'COM12'  # Seri portu uygun şekilde güncelleyin
baudrate = 9600
bytesize = 8
parity = 'N'
stopbits = 2

# Modbus client oluştur
client = ModbusSerialClient(method='rtu', port=serial_port, baudrate=baudrate, bytesize=bytesize, parity=parity, stopbits=stopbits)
client.connect()

register_address = 0x0002
setpoint_value = 0  # Örnek bir değer, gerektiğinde bu değeri istediğiniz değer ile değiştirin

client.write_register(register_address, setpoint_value, unit=3)  

while True:
    okuma=client.read_holding_registers(1,1,3)
    print(okuma.registers[0]/10)
# address 1 okuma, 2 set 